function getWithExpiry(a){var b=localStorage.getItem(a);if(!b)return null;var c=JSON.parse(b);return(new Date).getTime()>c.expiry?(localStorage.removeItem(a),null):c.value}function Dialog(a,b){this.dialogEl=a,this.overlayEl=b,this.focusedElBeforeOpen;var c=this.dialogEl.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), p, h2, [tabindex="0"]');this.focusableEls=Array.prototype.slice.call(c),this.firstFocusableEl=this.focusableEls[0],this.firstFocusableEl.focus(),this.lastFocusableEl=this.focusableEls[this.focusableEls.length-1],this.open()}var closeInformative=function(){var a=new Date,b=pageParameter&&pageParameter.cookiePolicyFrequency?pageParameter.cookiePolicyFrequency:null,c=b;document.getElementsByClassName("cookie-informative-message")[0].style.display="none";var d={value:"yes",expiry:a.getTime()+24*c*60*60*1e3};localStorage.setItem("infoAgree",JSON.stringify(d)),document.querySelector(".custom-popup")?document.getElementById("popup-title-popup-subscribtion").focus():document.querySelector("body").focus()},enableScript=function(){"undefined"!=typeof Kameleoon&&void 0!=typeof Kameleoon&&Kameleoon&&Kameleoon.API.Core.enableLegalConsent(),googletag&&googletag.pubads&&googletag.pubads().setCookieOptions(0)};Dialog.prototype.open=function(){var a=this;this.focusedElBeforeOpen=document.activeElement,this.dialogEl.addEventListener("keydown",function(b){a._handleKeyDown(b)}),this.overlayEl.addEventListener("click",function(){a.close()}),this.firstFocusableEl.focus(),console.log("==> open",this.firstFocusableEl)},Dialog.prototype.close=function(){this.focusedElBeforeOpen&&this.focusedElBeforeOpen.focus()},Dialog.prototype._handleKeyDown=function(a){function b(){document.activeElement===d.firstFocusableEl&&(a.preventDefault(),d.lastFocusableEl.focus(),document.activeElement.classList.add("non-keyboard-outline"))}function c(){document.activeElement===d.lastFocusableEl&&(a.preventDefault(),d.firstFocusableEl.focus(),document.activeElement.classList.add("non-keyboard-outline"))}var d=this;switch(a.keyCode){case 9:if(1===d.focusableEls.length){a.preventDefault();break}a.shiftKey?b():c();break;case 27:d.close()}},Dialog.prototype.addEventListeners=function(a,b){for(var c=this,d=document.querySelectorAll(a),e=0;e<d.length;e++)d[e].addEventListener("click",function(){c.open()});for(var f=document.querySelectorAll(b),e=0;e<f.length;e++)f[e].addEventListener("click",function(){c.close()})};var checkDomInterval,initInformativePopUp=function(){getWithExpiry("infoAgree"),null===localStorage.getItem("infoAgree")&&(checkDomInterval=setInterval(function(){if(document.getElementsByClassName("cookie-informative-message").length){document.getElementsByClassName("cookie-informative-message")[0].style.display="block",enableScript();new Dialog(document.querySelector(".cookie-informative-message"),document.querySelector(".dialog-overlay")).addEventListeners(".open-dialog",".close-dialog"),setTimeout(function(){document.getElementById("infoMesg").focus()},800),clearInterval(checkDomInterval)}},800))};initInformativePopUp();